<!DOCTYPE html>
<html>
  <head>
    <style></style>
  </head>

  <body>

    <svg class="surface" width="800" height="600"></svg>

    <script src="/d3.v4.min.js" charset="utf-8"></script>
    <script>

      d3.select('.surface')
        .selectAll('rect')
        .data([0, 40, 80, 120, 160, 200, 240, 280, 320])
        .enter()
        .append('rect')
          .attr('x', (d, i) => i * 60)
          .attr('y', 0)
          .attr('width', 50)
          .attr('height', 50)
          .attr('fill', d => `hsl(${d},100%,100%)`)
          .transition()
            .delay(200)
            .duration(2000)
            .attr('fill', d => `hsl(${d},100%,50%)`)

    </script>
  </body>

</html>
